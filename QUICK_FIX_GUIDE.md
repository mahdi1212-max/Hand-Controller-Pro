# راهنمای سریع حل مشکل Hand Controller Pro v3.0

## مشکلات حل شده ✅

### 1. مشکل RuntimeError در mainloop()
- **مشکل**: `RuntimeError: main thread is not in main loop`
- **حل**: انتقال mainloop به thread اصلی و بهبود مدیریت threading

### 2. مشکل تشخیص دست
- **مشکل**: دست تشخیص داده نمی‌شد
- **حل**: 
  - بهبود تنظیمات MediaPipe
  - کاهش حساسیت تشخیص
  - اضافه کردن fallback برای دوربین‌های مختلف

### 3. مشکل کنترل صوتی
- **مشکل**: کنترل صوتی کار نمی‌کرد
- **حل**: بهبود threading و حلقه گوش دادن

## نحوه اجرا 🚀

### روش 1: اجرای مستقیم
```bash
python run_fixed.py
```

### روش 2: اجرای با فایل batch
```bash
run_fixed.bat
```

## ویژگی‌های جدید ✨

1. **پیام‌های بهتر**: پیام‌های واضح‌تر برای هر مرحله
2. **مدیریت خطا بهتر**: مدیریت بهتر خطاها و نمایش پیام‌های مفید
3. **تشخیص خودکار دوربین**: تلاش برای باز کردن دوربین‌های مختلف
4. **آمار بهتر**: نمایش آمار دقیق‌تر از عملکرد

## نحوه استفاده 📖

### 1. کالیبراسیون
- دست باز را 3 ثانیه نگه دارید
- شست و انگشت اشاره را 3 ثانیه به هم نزدیک کنید

### 2. کنترل دست چپ (تغییر حالت)
- **1 انگشت**: کنترل ماوس
- **2 انگشت**: کنترل سیستم (صدا)
- **3 انگشت**: کیبورد مجازی
- **5 انگشت**: بازگشت به IDLE

### 3. کنترل دست راست
- **انگشت اشاره**: حرکت ماوس
- **انگشت اشاره + وسط**: کلیک چپ
- **شست + اشاره**: کلیک راست
- **مشت**: Drag & Drop

## عیب‌یابی 🔧

### اگر دوربین کار نمی‌کند:
1. مطمئن شوید دوربین متصل است
2. برنامه‌های دیگر که از دوربین استفاده می‌کنند را ببندید
3. دوربین را از Device Manager بررسی کنید

### اگر تشخیص دست کار نمی‌کند:
1. نور کافی داشته باشید
2. دست را در مقابل دوربین قرار دهید
3. پس‌زمینه ساده داشته باشید

### اگر کنترل صوتی کار نمی‌کند:
1. میکروفون را بررسی کنید
2. دسترسی میکروفون را در تنظیمات Windows بررسی کنید
3. زبان تشخیص را روی فارسی تنظیم کنید

## پشتیبانی 💬

اگر مشکلی داشتید:
1. لاگ‌های کنسول را بررسی کنید
2. مطمئن شوید همه وابستگی‌ها نصب شده‌اند
3. نسخه Python شما 3.8+ است

---
**نسخه**: 3.0 Fixed  
**تاریخ**: 2024  
**وضعیت**: آماده استفاده ✅
